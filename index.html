<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Poppins:wght@300;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #ff8fa3;
            --secondary: #fff0f3;
            --accent: #c9184a;
            --text: #590d22;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fff0f3 0%, #ffccd5 100%);
            height: 100vh;
            overflow: hidden;
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- Screens --- */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: all 0.8s ease-in-out;
            transform: scale(0.95);
            padding: 20px;
            text-align: center;
        }

        .screen.active {
            opacity: 1;
            pointer-events: all;
            transform: scale(1);
            z-index: 10;
        }

        h1,
        h2 {
            font-family: 'Dancing Script', cursive;
            color: var(--accent);
            margin-bottom: 20px;
        }

        h1 {
            font-size: 3.5rem;
        }

        h2 {
            font-size: 2.5rem;
        }

        button {
            padding: 12px 30px;
            border-radius: 50px;
            border: none;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
            box-shadow: 0 4px 15px rgba(201, 24, 74, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
        }

        .btn-back {
            position: absolute;
            bottom: 30px;
            background: white;
            color: var(--text);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        /* --- Intro & Ask --- */
        .gift-box-container {
            animation: float 3s ease-in-out infinite;
            cursor: pointer;
        }

        .gift-box {
            font-size: 8rem;
            transition: transform 0.3s;
        }

        .gift-box-container:hover .gift-box {
            transform: scale(1.1) rotate(5deg);
        }

        .tap-text {
            margin-top: 20px;
            font-size: 1.2rem;
            opacity: 0.7;
            animation: pulse 2s infinite;
        }

        .bear-img {
            width: 200px;
            margin-bottom: 20px;
        }

        .buttons-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        /* --- Menu --- */
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 600px;
        }

        .menu-item {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            cursor: pointer;
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .menu-item:hover {
            transform: translateY(-10px);
            background: white;
        }

        .menu-icon {
            font-size: 2.5rem;
        }

        /* --- Content Cards --- */
        .content-card {
            background: white;
            width: 90%;
            max-width: 500px;
            height: 70vh;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
            position: relative;
        }

        /* Hide scrollbar for gallery screen specifically */
        #screen-gallery .content-card {
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Letter & Gallery */
        .paper {
            background-image: linear-gradient(#f8f9fa 29px, #e9ecef 30px);
            background-size: 100% 30px;
            line-height: 30px;
            text-align: left;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: #495057;
        }

        .photo-frame {
            background: white;
            padding: 10px 10px 40px 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: rotate(-2deg);
            margin-bottom: 20px;
        }

        .photo-frame:nth-child(even) {
            transform: rotate(2deg);
        }

        .photo-frame img {
            width: 100%;
            border-radius: 2px;
        }

        .caption {
            font-family: 'Dancing Script';
            text-align: center;
            margin-top: 10px;
            color: #666;
        }

        /* Slideshow */
        .slider-container {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        .slider-wrapper {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            height: 100%;
        }

        .slide {
            min-width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }

        .slide img {
            max-width: 100%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .slide-caption {
            margin-top: 15px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: var(--accent);
        }

        /* Dots */
        .dots-container {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            border: 2px solid var(--accent);
            background: transparent;
            transition: background 0.3s;
            cursor: pointer;
        }

        .dot.active {
            background: var(--accent);
        }

        /* Timeline */
        .timeline {
            border-left: 2px solid var(--accent);
            margin-left: 20px;
            padding-left: 20px;
            text-align: left;
        }

        .timeline-item {
            margin-bottom: 30px;
            position: relative;
        }

        .timeline-item::before {
            content: '‚ù§';
            position: absolute;
            left: -29px;
            top: 0;
            background: white;
            color: var(--accent);
        }

        /* --- GAME STYLES --- */
        .heart {
            position: absolute;
            font-size: 2rem;
            cursor: pointer;
            user-select: none;
            /* Start from bottom to float up */
            bottom: -50px;
            animation: floatUpFade 8s linear forwards;
            z-index: 50;
        }

        @keyframes floatUpFade {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-120vh) scale(1.2);
                opacity: 0;
            }
        }

        .timeline-img {
            height: auto;
            width: auto;
            max-width: 100%;
            object-fit: cover;
            border-radius: 10px;
            margin: 5px 4px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: inline-block;
        }


        .timeline-subtitle {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 20px;
            font-style: italic;
        }

        .bouquet {
            font-size: 5rem;
            opacity: 0;
            animation: bouquetPop 1.2s ease-out forwards;
        }

        @keyframes bouquetPop {
            0% {
                transform: scale(0.3) translateY(40px);
                opacity: 0;
            }

            60% {
                transform: scale(1.1) translateY(-10px);
                opacity: 1;
            }

            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }

        }

        .win-message {
            margin-top: 20px;
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: var(--accent);
            animation: fadeUp 1.2s ease-out forwards;
            opacity: 0;
        }

        @keyframes fadeUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2.5rem;
            }

            .menu-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <div id="screen-intro" class="screen active">
        <h1 style="color: var(--text);">Hey Mi Amor</h1>
        <p style="margin-bottom: 30px;">I have a special gift for you</p>
        <div class="gift-box-container" onclick="nextScreen('screen-ask')">
            <div class="gift-box">üéÅ</div>
        </div>
        <p class="tap-text">Tap to open</p>
    </div>

    <div id="screen-ask" class="screen">
        <img src="https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-kiss-bear-kisses.gif" alt="Cute Bear" class="bear-img">
        <h1>Will you be my Valentine?</h1>
        <div class="buttons-container">
            <button class="btn-primary" onclick="confettiEffect(); nextScreen('screen-menu')">YES</button>
            <button class="btn-primary" id="no-btn" style="background: #ccc; color: #555;"
                onmouseover="moveButton(this)">NO</button>
        </div>
    </div>

    <div id="screen-menu" class="screen">
        <h2>Choose a moment</h2>
        <div class="menu-grid">
            <div class="menu-item" onclick="nextScreen('screen-letter')">
                <div class="menu-icon">üíå</div>
                <span class="menu-label">Letter</span>
            </div>
            <div class="menu-item" onclick="nextScreen('screen-gallery')">
                <div class="menu-icon">üì∏</div>
                <span class="menu-label">Featured</span>
            </div>
            <div class="menu-item" onclick="nextScreen('screen-timeline')">
                <div class="menu-icon">‚è≥</div>
                <span class="menu-label">Journey</span>
            </div>
            <div class="menu-item" onclick="nextScreen('screen-play')">
                <div class="menu-icon">üéÆ</div>
                <span class="menu-label">Play</span>
            </div>
        </div>
    </div>

    <div id="screen-letter" class="screen">
        <div class="content-card">
            <h2>My Heart Tamashii...</h2>
            <div class="paper">
                Mi Amor,<br><br>
                From the moment I met you, my life changed in the best way possible. Your smile lights up my darkest
                days, and your laughter is my favorite sound.<br><br>
                Thank you for being my comfort, my best friend, and my soulmate. I love you more than words can
                say.<br><br>
                Forever yours,<br>
                Thistle
            </div>
        </div>
        <button class="btn-back" onclick="nextScreen('screen-menu')">Go Back</button>
    </div>

    <div id="screen-gallery" class="screen">
        <div class="content-card" style="padding: 20px;">
            <h2>Some Moments..</h2>
            <div class="slider-container">
                <div id="slider-wrapper" class="slider-wrapper">
                    <!-- Slides will be added here via JS or HTML -->
                    <div class="slide">
                        <img src="assets/slide1.jpg"
                            onerror="this.src='https://placehold.co/600x400/ffccd5/590d22?text=First+Hello'">
                        <div class="slide-caption">With You</div>
                    </div>
                    <div class="slide">
                        <img src="assets/slide2.jpg"
                            onerror="this.src='https://placehold.co/600x400/ffccd5/590d22?text=Zoo+Adventure'">
                        <div class="slide-caption">You & Me</div>
                    </div>
                    <div class="slide">
                        <img src="assets/slide3.png"
                            onerror="this.src='https://placehold.co/600x400/ffccd5/590d22?text=Movie+Date'">
                        <div class="slide-caption">Here, with you again</div>
                    </div>
                    <div class="slide">
                        <img src="assets/slide4.png"
                            onerror="this.src='https://placehold.co/600x400/ffccd5/590d22?text=Beach+Sunset'">
                        <div class="slide-caption">Still choosing you</div>
                    </div>
                    <div class="slide">
                        <img src="assets/slide5.png"
                            onerror="this.src='https://placehold.co/600x400/ffccd5/590d22?text=Lotus+Tower'">
                        <div class="slide-caption">Always you</div>
                    </div>
                </div>
                <div class="dots-container" id="dots-container"></div>
            </div>
        </div>
        <button class="btn-back" onclick="stopSlideshow(); nextScreen('screen-menu')">Go Back</button>
    </div>

    <div id="screen-play" class="screen">
        <div class="content-card" style="overflow:hidden; display:flex; flex-direction:column;">
            <h2>Tap the Hearts</h2>
            <p style="margin-bottom:10px;">Catch 12 hearts üíï</p>

            <div id="play-area"
                style="position:relative; width:100%; flex-grow:1; border: 2px dashed #ffccd5; border-radius:10px; overflow:hidden;">
            </div>

            <p id="score" style="margin-top:15px; font-weight:bold; color:var(--accent);">Hearts: 0</p>
        </div>
        <button class="btn-back" onclick="stopGame(); nextScreen('screen-menu')">Go Back</button>
    </div>

    <div id="screen-timeline" class="screen">
        <div class="content-card">
            <h2>Our Journey</h2>
            <p class="timeline-subtitle">Just a few highlights from our millions of memories... ‚ú®</p>

            <div class="timeline">
                <div class="timeline-item">
                    <strong>The Beginning üëã</strong><br>
                    <small>Mar 24th, 2023</small>
                    <img src="assets/01_hello.jpg" onerror="this.src='https://placehold.co/400x200?text=Hello'"
                        class="timeline-img" alt="First Hello">
                    <p>We said hello for the very first time.</p>
                </div>

                <div class="timeline-item">
                    <strong>The Start of Love ‚ù§Ô∏è</strong><br>
                    <small>Aug 25th, 2023</small>
                    <img src="assets/02_start.jpg" onerror="this.src='https://placehold.co/400x200?text=Love+Begins'"
                        class="timeline-img" alt="Start">
                    <p>The day we officially became "Us".</p>
                </div>

                <div class="timeline-item">
                    <strong>First Movie Date üçø</strong><br>
                    <small>Sep 15th, 2023</small>
                    <img src="assets/03_movie.jpg" onerror="this.src='https://placehold.co/400x200?text=Movie+Date'"
                        class="timeline-img" alt="Movie">
                    <p>Cinema lights and butterflies.</p>
                </div>

                <div class="timeline-item">
                    <strong>P&S Dates ‚òï</strong><br>
                    <small>Countless Times</small>
                    <img src="assets/04_coffee.jpg" onerror="this.src='https://placehold.co/400x200?text=Coffee+Dates'"
                        class="timeline-img" alt="Coffee">
                    <img src="assets/04_coffee2.jpg" onerror="this.src='https://placehold.co/400x200?text=Coffee+Dates'"
                        class="timeline-img" alt="Coffee">
                    <img src="assets/04_coffee3.jpg" onerror="this.src='https://placehold.co/400x200?text=Coffee+Dates'"
                        class="timeline-img" alt="Coffee">
                    <img src="assets/04_coffee4.jpg" onerror="this.src='https://placehold.co/400x200?text=Coffee+Dates'"
                        class="timeline-img" alt="Coffee">
                    <p>Coffee, pastries, and endless talking.</p>
                </div>

                <div class="timeline-item">
                    <strong>Park Stroll üå≥</strong><br>
                    <small>Oct 26th, 2023</small>
                    <img src="assets/05_park.jpg" onerror="this.src='https://placehold.co/400x200?text=Bellanvila'"
                        class="timeline-img" alt="Park">
                    <img src="assets/05_park2.jpg" onerror="this.src='https://placehold.co/400x200?text=Bellanvila'"
                        class="timeline-img" alt="Park">
                    <p>Walking together at Bellanvila Park.</p>
                </div>

                <div class="timeline-item">
                    <strong>Zoo Adventure ü¶Å</strong><br>
                    <small>Jan 12th, 2024</small>
                    <img src="assets/06_zoo.jpg" onerror="this.src='https://placehold.co/400x200?text=Zoo+Date'"
                        class="timeline-img" alt="Zoo">
                    <p>Wild times at the Zoo!</p>
                </div>

                <div class="timeline-item">
                    <strong>Shopping Spree üõçÔ∏è</strong><br>
                    <small>Feb 13th, 2024</small>
                    <img src="assets/07_shop.jpg" onerror="this.src='https://placehold.co/400x200?text=Shopping'"
                        class="timeline-img" alt="Shopping">
                    <p>Looking good together.</p>
                </div>

                <div class="timeline-item">
                    <strong>Lunch Dates üçî</strong><br>
                    <small>Always Hungry</small>
                    <img src="assets/08_lunch.jpg" onerror="this.src='https://placehold.co/400x200?text=Yummy+Food'"
                        class="timeline-img" alt="Lunch">
                    <img src="assets/08_lunch2.jpg" onerror="this.src='https://placehold.co/400x200?text=Yummy+Food'"
                        class="timeline-img" alt="Lunch">
                    <img src="assets/08_lunch3.jpg" onerror="this.src='https://placehold.co/400x200?text=Yummy+Food'"
                        class="timeline-img" alt="Lunch">
                    <p>Food tastes better with you.</p>
                </div>

                <div class="timeline-item">
                    <strong>B-Town Vibes üçπ</strong><br>
                    <small>Oct 2nd, 2024</small>
                    <img src="assets/09_btown.jpg" onerror="this.src='https://placehold.co/400x200?text=B-Town'"
                        class="timeline-img" alt="B-Town">
                    <img src="assets/09_btown2.jpg" onerror="this.src='https://placehold.co/400x200?text=B-Town'"
                        class="timeline-img" alt="B-Town">
                    <p>Eat, drink, and satisfy.</p>
                </div>

                <div class="timeline-item">
                    <strong>Coffee Dates üçπ</strong><br>
                    <small>Countless Times</small>
                    <img src="assets/11_coffee.jpg" onerror="this.src='https://placehold.co/400x200?text=B-Town'"
                        class="timeline-img" alt="B-Town">
                    <img src="assets/11_coffee2.jpg" onerror="this.src='https://placehold.co/400x200?text=B-Town'"
                        class="timeline-img" alt="B-Town">
                    <img src="assets/11_coffee3.jpg" onerror="this.src='https://placehold.co/400x200?text=B-Town'"
                        class="timeline-img" alt="B-Town">
                    <img src="assets/11_coffee4.jpg" onerror="this.src='https://placehold.co/400x200?text=B-Town'"
                        class="timeline-img" alt="B-Town">
                    <img src="assets/11_coffee5.jpg" onerror="this.src='https://placehold.co/400x200?text=B-Town'"
                        class="timeline-img" alt="B-Town">
                    <p>Coffee or tea, and chats.</p>
                </div>

                <div class="timeline-item">
                    <strong>Beach Sunsets & Galle Face üåÖ</strong><br>
                    <small>So many evenings</small>
                    <img src="assets/10_beach.jpg" onerror="this.src='https://placehold.co/400x200?text=Beach+Sunset'"
                        class="timeline-img" alt="Beach">
                    <img src="assets/10_beach2.jpg" onerror="this.src='https://placehold.co/400x200?text=Beach+Sunset'"
                        class="timeline-img" alt="Beach">
                    <img src="assets/10_beach3.jpg" onerror="this.src='https://placehold.co/400x200?text=Beach+Sunset'"
                        class="timeline-img" alt="Beach">
                    <img src="assets/10_beach4.jpg" onerror="this.src='https://placehold.co/400x200?text=Beach+Sunset'"
                        class="timeline-img" alt="Beach">
                    <img src="assets/10_beach5.jpg" onerror="this.src='https://placehold.co/400x200?text=Beach+Sunset'"
                        class="timeline-img" alt="Beach">
                    <p>Watching the sun go down with you.</p>
                </div>

                <div class="timeline-item">
                    <strong>Here and there</strong><br>
                    <small>With you always</small>
                    <img src="assets/10_here.jpg" onerror="this.src='https://placehold.co/400x200?text=Home+Visit'"
                        class="timeline-img" alt="Home">
                    <img src="assets/10_here2.jpg" onerror="this.src='https://placehold.co/400x200?text=Home+Visit'"
                        class="timeline-img" alt="Home">
                    <img src="assets/10_here3.jpg" onerror="this.src='https://placehold.co/400x200?text=Home+Visit'"
                        class="timeline-img" alt="Home">
                    <img src="assets/10_here4.jpg" onerror="this.src='https://placehold.co/400x200?text=Home+Visit'"
                        class="timeline-img" alt="Home">
                    <img src="assets/10_here5.jpg" onerror="this.src='https://placehold.co/400x200?text=Home+Visit'"
                        class="timeline-img" alt="Home">
                    <p>Having you with me everywhere.</p>
                </div>

                <div class="timeline-item">
                    <strong>Home Visit üè†</strong><br>
                    <small>Jan 28th, 2025</small>
                    <img src="assets/11_home.jpg" onerror="this.src='https://placehold.co/400x200?text=Home+Visit'"
                        class="timeline-img" alt="Home">
                    <p>The first time you came over.</p>
                </div>

                <div class="timeline-item">
                    <strong>Viharamahadevi Park üçÉ</strong><br>
                    <small>Apr 4th, 2025</small>
                    <img src="assets/12_park.jpg" onerror="this.src='https://placehold.co/400x200?text=Viharamahadevi'"
                        class="timeline-img" alt="Park 2">
                    <img src="assets/12_park2.jpg" onerror="this.src='https://placehold.co/400x200?text=Viharamahadevi'"
                        class="timeline-img" alt="Park 2">
                    <p>Back to the open spaces.</p>
                </div>

                <div class="timeline-item">
                    <strong>Temple Blessings üôè</strong><br>
                    <small>Apr 5th, 2025</small>
                    <img src="assets/13_temple.jpg" onerror="this.src='https://placehold.co/400x200?text=Temple'"
                        class="timeline-img" alt="Temple">
                    <img src="assets/13_temple2.jpg" onerror="this.src='https://placehold.co/400x200?text=Temple'"
                        class="timeline-img" alt="Temple">
                    <p>Peaceful religious time.</p>
                </div>

                <div class="timeline-item">
                    <strong>Lotus Tower üóº</strong><br>
                    <small>Apr 28th, 2025</small>
                    <img src="assets/14_lotus.jpg" onerror="this.src='https://placehold.co/400x200?text=Lotus+Tower'"
                        class="timeline-img" alt="Lotus Tower">
                    <img src="assets/14_lotus2.jpg" onerror="this.src='https://placehold.co/400x200?text=Lotus+Tower'"
                        class="timeline-img" alt="Lotus Tower">
                    <img src="assets/14_lotus3.jpg" onerror="this.src='https://placehold.co/400x200?text=Lotus+Tower'"
                        class="timeline-img" alt="Lotus Tower">
                    <p>On top of the city.</p>
                </div>

                <div class="timeline-item">
                    <strong>Port City Breeze üå¨Ô∏è</strong><br>
                    <small>Jul 14th, 2025</small>
                    <img src="assets/15_portcity.jpg" onerror="this.src='https://placehold.co/400x200?text=Port+City'"
                        class="timeline-img" alt="Port City">
                    <p>Sea wind + Sunset = Perfection.</p>
                </div>

                <div class="timeline-item">
                    <strong>Crescat</strong><br>
                    <small>Endless Evenings</small>
                    <img src="assets/16_crescat.jpg" onerror="this.src='https://placehold.co/400x200?text=Galle+Face'"
                        class="timeline-img" alt="Crescat">
                    <img src="assets/16_crescat2.jpg" onerror="this.src='https://placehold.co/400x200?text=Galle+Face'"
                        class="timeline-img" alt="Crescat">
                    <img src="assets/16_crescat3.jpg" onerror="this.src='https://placehold.co/400x200?text=Galle+Face'"
                        class="timeline-img" alt="Crescat">
                    <img src="assets/16_crescat4.jpg" onerror="this.src='https://placehold.co/400x200?text=Galle+Face'"
                        class="timeline-img" alt="Crescat">
                    <img src="assets/16_crescat5.jpg" onerror="this.src='https://placehold.co/400x200?text=Galle+Face'"
                        class="timeline-img" alt="Crescat">
                    <p>Talking, hugs, and pure love.</p>
                </div>

                <div class="timeline-item">
                    <strong>2 Years of Us üíë</strong><br>
                    <small>Aug 25th, 2025</small>
                    <img src="assets/17_anniversary.jpg" onerror="this.src='https://placehold.co/400x200?text=2+Years'"
                        class="timeline-img" alt="Anniversary">
                    <img src="assets/17_anniversary2.jpg" onerror="this.src='https://placehold.co/400x200?text=2+Years'"
                        class="timeline-img" alt="Anniversary">
                    <img src="assets/17_anniversary3.jpg" onerror="this.src='https://placehold.co/400x200?text=2+Years'"
                        class="timeline-img" alt="Anniversary">
                </div>

                <div class="timeline-item">
                    <strong>Graduation Day üéì</strong><br>
                    <small>Oct 17th, 2025</small>
                    <img src="assets/18_grad.jpg" onerror="this.src='https://placehold.co/400x200?text=Graduation'"
                        class="timeline-img" alt="Graduation">
                    <img src="assets/18_grad2.jpg" onerror="this.src='https://placehold.co/400x200?text=Graduation'"
                        class="timeline-img" alt="Graduation">
                    <p>Celebrating my graduation!</p>
                </div>

                <div class="timeline-item">
                    <strong>In Colombo üèôÔ∏è</strong><br>
                    <small>City Wander</small>
                    <img src="assets/19_city.jpg" onerror="this.src='https://placehold.co/400x200?text=City+Wander'"
                        class="timeline-img" alt="Colombo">
                    <img src="assets/19_city2.jpg" onerror="this.src='https://placehold.co/400x200?text=City+Wander'"
                        class="timeline-img" alt="Colombo">
                    <img src="assets/19_city3.jpg" onerror="this.src='https://placehold.co/400x200?text=City+Wander'"
                        class="timeline-img" alt="Colombo">
                    <img src="assets/19_city4.jpg" onerror="this.src='https://placehold.co/400x200?text=City+Wander'"
                        class="timeline-img" alt="Colombo">
                    <p>Just wandering around together.</p>
                </div>

                <div class="timeline-item">
                    <strong>Lunch Buffet üçΩÔ∏è</strong><br>
                    <small>Dec 20th, 2025</small>
                    <img src="assets/20_buffet.jpg" onerror="this.src='https://placehold.co/400x200?text=Buffet'"
                        class="timeline-img" alt="Buffet">
                    <img src="assets/20_buffet2.jpg" onerror="this.src='https://placehold.co/400x200?text=Buffet'"
                        class="timeline-img" alt="Buffet">
                    <img src="assets/20_buffet3.jpg" onerror="this.src='https://placehold.co/400x200?text=Buffet'"
                        class="timeline-img" alt="Buffet">
                    <p>Lunch date @GalleFace Hotel.</p>
                </div>

                <div class="timeline-item">
                    <strong>At Your Place üè°</strong><br>
                    <small>Cozy Days</small>
                    <img src="assets/21_place.jpg" onerror="this.src='https://placehold.co/400x200?text=Your+Place'"
                        class="timeline-img" alt="Place">
                    <img src="assets/21_place2.jpg" onerror="this.src='https://placehold.co/400x200?text=Your+Place'"
                        class="timeline-img" alt="Place">
                    <p>Laughter and so much talking.</p>
                </div>

                <div class="timeline-item">
                    <strong>Sickness & Health ü§í</strong><br>
                    <small>Stay healthy please!</small>
                    <img src="assets/22_sick.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="Sick">
                    <p>Staying by your side, always.</p>
                </div>

                <div class="timeline-item">
                    <strong>Wheel Selfie üöó</strong><br>
                    <small>On the way but selfie time</small>
                    <img src="assets/wheel.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="Wheel">
                    <img src="assets/wheel2.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="Wheel">
                    <img src="assets/wheel3.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="Wheel">
                    <p>Just enjoy the moment.</p>
                </div>

                <div class="timeline-item">
                    <strong>Flowers & You üåπ</strong><br>
                    <small>Flowers with a Rose</small>
                    <img src="assets/flower.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="flower">
                    <img src="assets/flower2.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="flower">
                    <img src="assets/flower3.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="flower">
                    <img src="assets/flower4.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="flower">
                    <img src="assets/flower5.jpg" onerror="this.src='https://placehold.co/400x200?text=Care'"
                        class="timeline-img" alt="flower">
                    <p>Since u're a flower girl.</p>
                </div>

                <div class="timeline-item" style="border:none;">
                    <strong>...and many more to come! üöÄ</strong>
                    <br>
                    <strong>I Love You ‚ù§Ô∏è</strong>
                </div>

            </div>
        </div>
        <button class="btn-back" onclick="nextScreen('screen-menu')">Go Back</button>
    </div>

    <canvas id="confetti"
        style="position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:999;"></canvas>

    <script>
        // --- NAVIGATION ---
        function nextScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');

            if (screenId === 'screen-play') {
                startGame();
            }
            if (screenId === 'screen-gallery') {
                startSlideshow();
            } else {
                stopSlideshow();
            }
        }

        // --- SLIDESHOW LOGIC ---
        let slideIndex = 0;
        let slideInterval;
        let totalSlides = 0;

        function startSlideshow() {
            stopSlideshow(); // Clear any existing
            const wrapper = document.getElementById('slider-wrapper');
            let slides = document.querySelectorAll('.slide');
            const dotsContainer = document.getElementById('dots-container');

            // Clean up: Reset wrapper if it already has cloned slides
            // This is a simple check, ideally we should implement a cleaner init
            // but for this scope, let's just make sure we don't duplicate excessively on re-entry
            // A better approach is to clear content and rebuild, but let's stick to modification
            if (wrapper.children.length > 5 && wrapper.lastElementChild.classList.contains('clone')) {
                wrapper.removeChild(wrapper.lastElementChild);
            }

            slides = document.querySelectorAll('.slide');
            totalSlides = slides.length;

            // Setup Dots
            dotsContainer.innerHTML = '';
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                if (i === 0) dot.classList.add('active');
                dotsContainer.appendChild(dot);
            }

            // Clone first slide for seamless loop
            const firstClone = slides[0].cloneNode(true);
            firstClone.classList.add('clone');
            wrapper.appendChild(firstClone);

            slideIndex = 0;
            updateSliderPosition(false); // No transition initially

            slideInterval = setInterval(nextSlide, 3000);
        }

        function nextSlide() {
            const wrapper = document.getElementById('slider-wrapper');
            slideIndex++;

            updateSliderPosition(true); // smooth transition

            // Handle the seamless loop
            if (slideIndex === totalSlides) {
                // We are at the clone. Wait for transition to end, then snap back
                setTimeout(() => {
                    slideIndex = 0;
                    updateSliderPosition(false); // snap back without transition
                }, 600); // 600ms matches CSS transition duration
            }

            updateDots();
        }

        function updateSliderPosition(smooth) {
            const wrapper = document.getElementById('slider-wrapper');
            if (smooth) {
                wrapper.style.transition = 'transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
            } else {
                wrapper.style.transition = 'none';
            }
            // Use translateX based on index. Each slide is 100% width
            wrapper.style.transform = `translateX(-${slideIndex * 100}%)`;
        }

        function updateDots() {
            const dots = document.querySelectorAll('.dot');
            dots.forEach(dot => dot.classList.remove('active'));

            // If we're at the clone (index == totalSlides), show the first dot
            let activeIndex = slideIndex;
            if (activeIndex === totalSlides) activeIndex = 0;

            if (dots[activeIndex]) {
                dots[activeIndex].classList.add('active');
            }
        }

        function stopSlideshow() {
            clearInterval(slideInterval);
        }

        // --- GAME LOGIC ---
        let heartInterval;
        let heartCount = 0;
        let gameWon = false;

        function startGame() {
            stopGame(); // Reset any existing game
            gameWon = false;
            heartCount = 0;
            document.getElementById('score').innerText = 'Hearts: 0';

            const area = document.getElementById('play-area');
            area.innerHTML = ''; // Clear area

            // Spawn hearts
            heartInterval = setInterval(() => {
                if (gameWon) return;

                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerText = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 90 + '%'; // Random horizontal pos

                heart.onclick = () => {
                    if (gameWon) return;
                    heart.remove();
                    heartCount++;
                    document.getElementById('score').innerText = 'Hearts: ' + heartCount;

                    if (heartCount >= 12) {
                        showWinMessage();
                    }
                };

                area.appendChild(heart);

                // Remove heart from DOM after animation to keep memory clean
                setTimeout(() => {
                    if (heart.parentNode) heart.remove();
                }, 4000);

            }, 600); // Speed of spawning
        }

        function stopGame() {
            clearInterval(heartInterval);
            const area = document.getElementById('play-area');
            if (area) area.innerHTML = '';
        }

        function showWinMessage() {
            gameWon = true;
            clearInterval(heartInterval);

            const area = document.getElementById('play-area');
            area.innerHTML = `
                <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%;">
                    <div class="bouquet">üíêüå∏üå∑üåπüå∫</div>
                    <div class="win-message">
                        This is for you<br>
                        <span style="font-size:1.2rem; color:#555;">For making my world brighter</span>
                    </div>
                </div>
            `;
            // Optional: Trigger confetti again for the win
            confettiEffect();
        }

        // --- BUTTON DODGE LOGIC ---
        function moveButton(btn) {
            const maxX = window.innerWidth - btn.offsetWidth - 20;
            const maxY = window.innerHeight - btn.offsetHeight - 20;
            btn.style.position = 'fixed';
            btn.style.left = Math.random() * maxX + 'px';
            btn.style.top = Math.random() * maxY + 'px';
        }

        // --- CONFETTI LOGIC ---
        const canvas = document.getElementById('confetti');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let pieces = [];
        const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3'];

        function updateConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            pieces.forEach(p => {
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, p.size, p.size);
                p.y += p.speed;
                p.rotation += p.rotationSpeed;
                if (p.y > canvas.height) p.y = -20;
            });
            requestAnimationFrame(updateConfetti);
        }

        function confettiEffect() {
            for (let i = 0; i < 200; i++) {
                pieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    size: Math.random() * 10 + 5,
                    speed: Math.random() * 5 + 2,
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 10 - 5,
                    color: colors[Math.floor(Math.random() * colors.length)]
                });
            }
            updateConfetti();
            setTimeout(() => { pieces = []; ctx.clearRect(0, 0, canvas.width, canvas.height); }, 5000);
        }
    </script>
</body>

</html>
